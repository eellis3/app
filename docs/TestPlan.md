# Test Plan


**Author**: Team35

## 1 Testing Strategy

### 1.1 Overall strategy

This is the Master Test Plan for the SmoothieCart app for Android devices.  It will focus on unit, integration, system, and regression-testing.  This test plan will ensure the newly developed software behaves correctly, accurately, and timely.  This will verify each of the Use Cases modeled defined in the Use Case Model.   Stress testing will be a low priority since only one user can access and run the program.  We assume the external systems (credit card scanner, QR scanner, and email system) have already been tested internally.  Integration testing with these system is unknown at this time.  Testing will be done by the developer, QA lead, and customer.  



### 1.2 Test Selection


| Testing Type   | Scope              | Opacity |Testing Responsibility|
| ------------ | -------------------| ---------------| --------|
| Unit | Multiple test cases per class  | White Box  | Developer/QA |
| Integration    |  Between 2 or more classes      | White and Black Box  | Developer/QA |
| Functional     | Whole App |    Black Box   | QA |
| System    | Whole App on different systems   | Black Box             | QA |
|   Beta  |  App on customer's system  |  Black Box        | Customer |
| Regression    |  Selection of the tests above  | White and Black Box  | Developer/QA |


### 1.3 Adequacy Criterion

Each requirement and Use Case for SmoothieCart will have its own test.  Each class will have a robust test cases, normal inputs, boundary, and exceptions.  Test cases will be modified as needed to accomodate changes to the system design.  

### 1.4 Bug Tracking

Bugs will be added to a bug tracker document and from the list of bugs, the next revisions of the App will fix the listed bugs.  Priority will be given to each bug as Critical, Major, and Minor.  Critical is when the App is not functional until it is fixed.  Major is when the App's core functionality works, but not another piece.  Minor is when their is a suggested feature to the App.  

### 1.5 Technology

The App will be tested with JUnit and Manual testing.  App emulation will be performed for different versions of Android and different hardware.  Automated testing will be developed if time is available with Barista and Expresso.

## 2 Test Cases

| ID  | Requirement/Purpose              | Steps| Expected Result | Actual Result | Pass/Fail|Notes|
| ----| ----------------------------------| -----| ----------------|---------------|----------|-----|
| 1 | Manager adds new customer | 1. Manager clicks Add Customer button. 2.  Add Customer screen is displayed.  Customer info is entered with name, billing address, email, and an unique hex ID and Click Submit.  4. Return to home screen.  | 1.  New customer is added to database.  2.  New customer is on the home page. 3.  Name, billing address, email, unique ID, credit = $0, credit expiration is null, and spent = $0 (black text) | 1. Customer is added to database. 2.  New Customer is on the home page.  3.  All entries match and $0 for credit and gold status.  | Pass  | Spent turns gold once reaching gold status |
| 2 | Manager incorrectly adds customer to database | 1.  Manager clicks Add Customer button.  2.  Input incorrect data or duplicate ID and submit. This could be a blank, incorrect format for email or address, etc.  | Error pops up explaining incorrect or duplicated data. Stays on New Customer screen. | Error is displayed and still on New Customer Screen and no duplicate QR codes. | Pass | We can have a customer with the same name, address, and email, but not same ID |
| 3 | Manager processes purchase of 1 orange smoothie, with no rewards, purchase < $50, and 0 transactions | 1.  Manager signs in known customer with QR Scanner or finds customer on home screen.  2.  Click Purchase button.  3.  Click Smoothie.  4.  Click small, Orange flavored, and then Add to Cart.  5.  The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, the app processes the credit card, and its valid.  7.  Returns to the home screen. | 1.  Customer's purchase history is updated with date, amount before discounts, and no discounts were applied.  2.  System is returned to home screen with Customer updated Spent Total = smoothie cost and Credit =$0.  | 1. Customer's purchase history is updated with date, amount before discounts, and no discounts were applied. 2. System is returned to home screen with Customer updated Spent Total = smoothie cost and Credit =$0  | Pass | Assume valid credit card with enough funds for purchase for all purchases unless otherwise specified. |
| 4 | Manager processes purchase of 1 Other item, with no rewards, purchase >= $50, and 0 transactions to get $5 credit.  | 1.  Manager signs in known customer with QR Scanner or finds customer on home screen.  2.  Click Purchase button.  3.  Click Other.  4.  Enter price of $50 and click Add to Cart.  5.  The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, the app processes the credit card, and its valid.  7.  Returns to the home screen. | 1.  Customer's purchase history is updated with date, amount before discounts, and no discounts were applied.  2.  System is returned to home screen with Customer updated Spent Total = $50 cost, Credit =$5, and Credit expiration date is one year from today.  Customer receives email about credit earned.   | 1. Customer's purchase history is updated with date, amount before discounts, and no discounts were applied. 2. System is returned to home screen with Customer updated Spent Total = $50 cost, Credit =$5, and Credit expiration date is one year from today. Customer receives email about credit earned.   | Pass |  |
| 5 |  Manager processes purchase with no rewards, purchase of $5 and transactions totaling $495 to get Gold Status | 1.  Manager signs in known customer with QR Scanner or finds customer on home screen and customer has $495 spent in total transactions in the current year.  2.  Click Purchase button.  3.  Click Other.  4.  Enter price of $5 and click Add to Cart.  5.  The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, the app processes the credit card, and its valid.  7.  Returns to the home screen.| 1.  Customer's purchase history is updated with date, amount before discounts, and no discounts were applied.  2.  System is returned to home screen with Customer updated Spent Total = $500 cost (text is gold) and Credit =$0.  3.  Customer receives email about Gold Status earned.   | 1. Customer's purchase history is updated with date, amount before discounts, and no discounts were applied. 2. System is returned to home screen with Customer updated Spent Total = $500 cost (text is gold) and Credit =$0. 3. Customer receives email about Gold Status earned.   | Pass |  |
| 6 | Manager processes purchase with Credit and Gold Status rewards and purchase is $10 to calculate rewards correctly. | 1.  Manager signs in known customer with QR Scanner or finds customer on home screen with Gold Status and $5 in credit.  2.  Click Purchase button.  3.  Click Other.  4.  Enter price of $5 and click Add to Cart.  5.  The Cart screen is shown with the matching item, total, $5 credit, gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, the app processes the credit card, and its valid.  7.  Returns to the home screen. | 1.  Customer's purchase history is updated with date, amount before discounts, and discounts applied. 2. Final total price = $4.50 , Credit=$0, and spent total is increased by $4.50 | 1. Customer's purchase history is updated with date, amount before discounts, and discounts applied. 2. Final total price = $4.50 , Credit=$0, and spent total is increased by $4.50 | Pass |c|
| 7 | Manager edits customer |  1.   Manager signs in known customer with QR Scanner or finds customer on home screen. 2.  Click Edit.  3.  Input in the changes to the customer's data: name, address, and/or email.  4. Click Submit and return to home screen.  | Customer data is updated to match the changes.  | Customer data is updated to match the changes. | Pass | customer ID is not editable |
| 8 | Manager incorrectly edits customer | 1.   Manager signs in known customer with QR Scanner or finds customer on home screen. 2.  Click Edit. 3. Input incorrect data and submit. This could be a blank, incorrect format for email or address, etc.  | Error pops up explaining incorrect or duplicated data.  Stay on the Edit Customer screen. | Error pops up explaining incorrect or duplicated data.  Stay on the Edit Customer screen. | Pass |  |
| 9 | QR scanner inputs customer ID into system | 1. Manger clicks the Scan QR button.  2. QR scanner reads customer card.  3.  Customer ID is found and shows Customer Info screen.  | Matching customer is displayed to the ID card | Matching customer is displayed to the ID card | Pass |  |
| 10 | QR scanner does not work or scan properly. | 1. Manger clicks the Scan QR button.  2. QR scanner tries to reads customer card and fails.  3.  Error is displayed and returned to the Scan screen.  |  Error is displayed and returned to scan screen. | Error is displayed and scan is automatically retried. | Pass |  |
| 11 | Credit card process transaction fails. |   1.  Manager signs in known customer with QR Scanner or finds customer on home screen.  2.  Click Purchase button.  3.  Click Other.  4.  Enter price of $50 and click Add to Cart.  5.  The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, and the app reads the credit card correctly, but an error is thrown for transaction being rejected.  7. Return to Cart screen and able to click Purchase again.  | Error is thrown once credit card transaction has failed.  Returns to Cart screen.  | Error is thrown once credit card transaction has failed. Automatically tries to send transaction again. | Pass | Must use an invalid card, expired, or no funds. |
| 12 | Verify if reward credit covers payment, no credit card is needed. |1.  Manager signs in known customer with QR Scanner or finds customer on home screen.  2.  Click Purchase button.  3.  Click Smoothie.  4.  Click small, Banana flavored, and then Add to Cart.  5.  The Cart screen is shown with the matching item, total is $3, $5 credit, no gold status reward, and Final Total = $0. Click Purchase. 6. Returns to the home screen. | 1.  App never asks for credit card.  2.  Customer's purchase history is updated with date, amount before discounts, and $5 credit discounts were applied.  | 1. App never asks for credit card. 2. Customer's purchase history is updated with date, amount before discounts, and $5 credit discounts were applied.  | Pass |  |
| 13 | Manager displays transaction history | 1.  Manger signs in known customer with QR Scanner or finds customer on home screen.  2.  Click View History button.   | All transactions are displayed with date, amount before discounts, whether discounts were applied (and which ones), discount amount, total after discounts. | All transactions are displayed with date, amount before discounts, whether discounts were applied (and which ones), discount amount, total after discounts. | Pass |  |
| 14 | Verify multiple items are added to cart and total is correct.   |   1.  Manager signs in known customer with QR Scanner or finds customer on home screen. customer has $5 credit and gold status.  2.  Click Purchase button.  3.  Click Smoothie.  4.  Click small, Banana flavored, and then Add to Cart. 5.  Cart screen is shown.  Click Add Item button.  6.  Click Smoothie.  7.  Click large, strawberry flavored, and Add to Cart.  8.  Cart screen is shown.  9.  Click Add Item button.  10.  Click Other.  11.  Add item price $5 and Add to Cart. | Verify total of all 3 items, gold discount applied first, $5 credit used, and final total is correct.  | Total of all 3 items, gold discount applied first, $5 credit used, and final total are correct. | Pass |  |
| 15 | Verify credit is set to $0 after 1 year of being issued | 1.  Manger signs in known customer with QR Scanner or finds customer on home screen. customer has $5 credit and assigned >1 year ago.  2.  Customer Screen is displayed | Customer Info screen has Credit Expired date blank and Credit = $0.  | Customer Info screen has Credit Expired date blank and Credit = $0.  | Pass |  |
| 16 | Verify total spent in one year is reset on Jan 1 each year if no gold status |  1.  Manger is on home screen looking at 2 customers.  Customer A has gold status and spent $600 in the current year.  Customer B does not have gold status and spent $300 in the current year.  2.  Make the date change to Jan 1 2016. 3. Return to the home screen. | Both spents are $0, but Customer A is still gold (for gold status) and Customer B is black. | Both spents are $0, but Customer A is still gold (for gold status) and Customer B is black. | Pass |  |
| 17 | Email fails to send. | 1. Manager signs in known customer with QR Scanner or finds customer on home screen. 2. Click Purchase button. 3. Click Other. 4. Enter price of $50 and click Add to Cart. 5. The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase. 6. a payment screen is shown. Swipe the credit card, the app processes the credit card, and its valid. 7. App displays that email failed to send and to try again.  8.  Email automatically tries to resend. 9.  Returns to the home screen. | 1. Customer's purchase history is updated with date, amount before discounts, and no discounts were applied. 2. System is returned to home screen with Customer updated Spent Total = $50 cost, Credit =$5, and Credit expiration date is one year from today. 3.  Email automatically tries to resend.  | 1. Customer's purchase history is updated with date, amount before discounts, and no discounts were applied. 2. System is returned to home screen with Customer updated Spent Total = $50 cost, Credit =$5, and Credit expiration date is one year from today. 3.  Email automatically tries to resend. | Pass |  |
| 18 | Credit card read fails. |   1.  Manager signs in known customer with QR Scanner or finds customer on home screen.  2.  Click Purchase button.  3.  Click Other.  4.  Enter price of $50 and click Add to Cart.  5.  The Cart screen is shown with the matching item, total, $0 credit, no gold status reward, and Final Total. Click Purchase.  6.  a payment screen is shown.  Swipe the credit card, and the app reads the credit card incorrectly.  An error is thrown for unable to read card.  7. Return to Cart screen and able to click Purchase again.  | Error is thrown once credit card read has failed.  Retries to scan card again.  |Error is thrown once credit card read has failed.  Retries to scan card again.  | Pass | Card swipe was unsuccessful |
| 19 | Confirm customer data persists after app closure or phone reboot | 1. Manager clicks Add Customer button. 2. Add Customer screen is displayed. 3. Customer info is entered with name, billing address, email, and an unique hex ID and Click Submit.  4. Returned to the home screen.  5.  Close app and reboot phone.  6.  Open App. | Recently added customer is displayed and not deleted.  | 1.  Reloaded app and phone, and customer data is all saved.   | Pass | c |
